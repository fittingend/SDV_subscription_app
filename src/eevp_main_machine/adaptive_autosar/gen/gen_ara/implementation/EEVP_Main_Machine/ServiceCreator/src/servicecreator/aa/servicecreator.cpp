///////////////////////////////////////////////////////////////////////////////////////////////////////////
///                                                                                                        
/// Copyright, 2021 PopcornSAR Co., Ltd. All rights reserved.                                              
/// This software is copyright protected and proprietary to PopcornSAR Co., Ltd.                           
/// PopcornSAR Co., Ltd. grants to you only those rights as set out in the license conditions.             
///                                                                                                        
///////////////////////////////////////////////////////////////////////////////////////////////////////////
/// AUTOSAR VERSION                   : R20-11
/// GENERATED BY                      : PARA, Adaptive Application Generator
///////////////////////////////////////////////////////////////////////////////////////////////////////////
/// GENERATED FILE NAME               : servicecreator.cpp
/// SOFTWARE COMPONENT NAME           : ServiceCreator
/// GENERATED DATE                    : 2024-10-17 15:32:20
///////////////////////////////////////////////////////////////////////////////////////////////////////////
/// INCLUSION HEADER FILES
///////////////////////////////////////////////////////////////////////////////////////////////////////////
#include "servicecreator/aa/servicecreator.h"
 
namespace servicecreator
{
namespace aa
{
 
ServiceCreator::ServiceCreator()
    : m_logger(ara::log::CreateLogger("SVCC", "SWC", ara::log::LogLevel::kVerbose))
    , m_workers(5)
{
}
 
ServiceCreator::~ServiceCreator()
{
}
 
bool ServiceCreator::Initialize()
{
    m_logger.LogVerbose() << "ServiceCreator::Initialize";
    
    bool init{true};
    
    m_PPort_BCM_WiperWash = std::make_shared<servicecreator::aa::port::PPort_BCM_WiperWash>();
    m_PPort_BmsInfoSrv = std::make_shared<servicecreator::aa::port::PPort_BmsInfoSrv>();
    m_PPort_Ctrl_MoodLamp = std::make_shared<servicecreator::aa::port::PPort_Ctrl_MoodLamp>();
    m_PPort_Ctrl_RearCurtain = std::make_shared<servicecreator::aa::port::PPort_Ctrl_RearCurtain>();
    m_PPort_DMS_Func = std::make_shared<servicecreator::aa::port::PPort_DMS_Func>();
    m_PPort_MsgInfoSrv = std::make_shared<servicecreator::aa::port::PPort_MsgInfoSrv>();
    m_PPort_ServiceManagement = std::make_shared<servicecreator::aa::port::PPort_ServiceManagement>();
    m_PPort_SmartFilmCont = std::make_shared<servicecreator::aa::port::PPort_SmartFilmCont>();
    m_PPort_Snsr_FaceDetectModule = std::make_shared<servicecreator::aa::port::PPort_Snsr_FaceDetectModule>();
    m_PPort_Snsr_HeartBeat = std::make_shared<servicecreator::aa::port::PPort_Snsr_HeartBeat>();
    m_PPort_Snsr_USS = std::make_shared<servicecreator::aa::port::PPort_Snsr_USS>();
    m_PPort_TMS_AC = std::make_shared<servicecreator::aa::port::PPort_TMS_AC>();
    m_PPort_TMS_EnvMonitor = std::make_shared<servicecreator::aa::port::PPort_TMS_EnvMonitor>();
    m_PPort_TMS_Fragrance = std::make_shared<servicecreator::aa::port::PPort_TMS_Fragrance>();
    m_PPort_TMS_Purifier = std::make_shared<servicecreator::aa::port::PPort_TMS_Purifier>();
    m_PPort_TMS_Ventilation = std::make_shared<servicecreator::aa::port::PPort_TMS_Ventilation>();
    m_PPort_VCS_AccrPedal = std::make_shared<servicecreator::aa::port::PPort_VCS_AccrPedal>();
    m_PPort_VCS_Brake = std::make_shared<servicecreator::aa::port::PPort_VCS_Brake>();
    m_PPort_VCS_BrakePedal = std::make_shared<servicecreator::aa::port::PPort_VCS_BrakePedal>();
    m_PPort_VCS_EPB = std::make_shared<servicecreator::aa::port::PPort_VCS_EPB>();
    m_PPort_VCS_Gear = std::make_shared<servicecreator::aa::port::PPort_VCS_Gear>();
    m_PPort_VCS_VehSpd = std::make_shared<servicecreator::aa::port::PPort_VCS_VehSpd>();
    m_RPort_BCM_Horn = std::make_shared<servicecreator::aa::port::RPort_BCM_Horn>();
    m_RPort_BCM_WiperWash = std::make_shared<servicecreator::aa::port::RPort_BCM_WiperWash>();
    m_RPort_Ctrl_MoodLamp = std::make_shared<servicecreator::aa::port::RPort_Ctrl_MoodLamp>();
    m_RPort_Ctrl_RearCurtain = std::make_shared<servicecreator::aa::port::RPort_Ctrl_RearCurtain>();
    m_RPort_EevpControlSoaMlm = std::make_shared<servicecreator::aa::port::RPort_EevpControlSoaMlm>();
    m_RPort_SmartFilmCont = std::make_shared<servicecreator::aa::port::RPort_SmartFilmCont>();
    m_RPort_Snsr_FaceDetectModule = std::make_shared<servicecreator::aa::port::RPort_Snsr_FaceDetectModule>();
    m_RPort_TMS_AC = std::make_shared<servicecreator::aa::port::RPort_TMS_AC>();
    m_RPort_TMS_EnvMonitor = std::make_shared<servicecreator::aa::port::RPort_TMS_EnvMonitor>();
    m_RPort_TMS_Fragrance = std::make_shared<servicecreator::aa::port::RPort_TMS_Fragrance>();
    m_RPort_TMS_Purifier = std::make_shared<servicecreator::aa::port::RPort_TMS_Purifier>();
    m_RPort_TMS_Ventilation = std::make_shared<servicecreator::aa::port::RPort_TMS_Ventilation>();
    m_RPort_VCS_Brake = std::make_shared<servicecreator::aa::port::RPort_VCS_Brake>();
    m_RPort_VCS_Gear = std::make_shared<servicecreator::aa::port::RPort_VCS_Gear>();
    m_RPort_VCS_TqDmd = std::make_shared<servicecreator::aa::port::RPort_VCS_TqDmd>();
    
    return init;
}
 
void ServiceCreator::Start()
{
    m_logger.LogVerbose() << "ServiceCreator::Start";
    
    m_PPort_BCM_WiperWash->Start();
    m_PPort_BmsInfoSrv->Start();
    m_PPort_Ctrl_MoodLamp->Start();
    m_PPort_Ctrl_RearCurtain->Start();
    m_PPort_DMS_Func->Start();
    m_PPort_MsgInfoSrv->Start();
    m_PPort_ServiceManagement->Start();
    m_PPort_SmartFilmCont->Start();
    m_PPort_Snsr_FaceDetectModule->Start();
    m_PPort_Snsr_HeartBeat->Start();
    m_PPort_Snsr_USS->Start();
    m_PPort_TMS_AC->Start();
    m_PPort_TMS_EnvMonitor->Start();
    m_PPort_TMS_Fragrance->Start();
    m_PPort_TMS_Purifier->Start();
    m_PPort_TMS_Ventilation->Start();
    m_PPort_VCS_AccrPedal->Start();
    m_PPort_VCS_Brake->Start();
    m_PPort_VCS_BrakePedal->Start();
    m_PPort_VCS_EPB->Start();
    m_PPort_VCS_Gear->Start();
    m_PPort_VCS_VehSpd->Start();
    m_RPort_BCM_Horn->Start();
    m_RPort_BCM_WiperWash->Start();
    m_RPort_Ctrl_MoodLamp->Start();
    m_RPort_Ctrl_RearCurtain->Start();
    m_RPort_EevpControlSoaMlm->Start();
    m_RPort_SmartFilmCont->Start();
    m_RPort_Snsr_FaceDetectModule->Start();
    m_RPort_TMS_AC->Start();
    m_RPort_TMS_EnvMonitor->Start();
    m_RPort_TMS_Fragrance->Start();
    m_RPort_TMS_Purifier->Start();
    m_RPort_TMS_Ventilation->Start();
    m_RPort_VCS_Brake->Start();
    m_RPort_VCS_Gear->Start();
    m_RPort_VCS_TqDmd->Start();
    
    // run software component
    Run();
}
 
void ServiceCreator::Terminate()
{
    m_logger.LogVerbose() << "ServiceCreator::Terminate";
    
    m_PPort_BCM_WiperWash->Terminate();
    m_PPort_BmsInfoSrv->Terminate();
    m_PPort_Ctrl_MoodLamp->Terminate();
    m_PPort_Ctrl_RearCurtain->Terminate();
    m_PPort_DMS_Func->Terminate();
    m_PPort_MsgInfoSrv->Terminate();
    m_PPort_ServiceManagement->Terminate();
    m_PPort_SmartFilmCont->Terminate();
    m_PPort_Snsr_FaceDetectModule->Terminate();
    m_PPort_Snsr_HeartBeat->Terminate();
    m_PPort_Snsr_USS->Terminate();
    m_PPort_TMS_AC->Terminate();
    m_PPort_TMS_EnvMonitor->Terminate();
    m_PPort_TMS_Fragrance->Terminate();
    m_PPort_TMS_Purifier->Terminate();
    m_PPort_TMS_Ventilation->Terminate();
    m_PPort_VCS_AccrPedal->Terminate();
    m_PPort_VCS_Brake->Terminate();
    m_PPort_VCS_BrakePedal->Terminate();
    m_PPort_VCS_EPB->Terminate();
    m_PPort_VCS_Gear->Terminate();
    m_PPort_VCS_VehSpd->Terminate();
    m_RPort_BCM_Horn->Terminate();
    m_RPort_BCM_WiperWash->Terminate();
    m_RPort_Ctrl_MoodLamp->Terminate();
    m_RPort_Ctrl_RearCurtain->Terminate();
    m_RPort_EevpControlSoaMlm->Terminate();
    m_RPort_SmartFilmCont->Terminate();
    m_RPort_Snsr_FaceDetectModule->Terminate();
    m_RPort_TMS_AC->Terminate();
    m_RPort_TMS_EnvMonitor->Terminate();
    m_RPort_TMS_Fragrance->Terminate();
    m_RPort_TMS_Purifier->Terminate();
    m_RPort_TMS_Ventilation->Terminate();
    m_RPort_VCS_Brake->Terminate();
    m_RPort_VCS_Gear->Terminate();
    m_RPort_VCS_TqDmd->Terminate();
}
 
void ServiceCreator::Run()
{
    m_logger.LogVerbose() << "ServiceCreator::Run";
    
    m_workers.Async([this] { m_PPort_BmsInfoSrv->SendEventems_BmsInfoCyclic(); });
    m_workers.Async([this] { m_PPort_MsgInfoSrv->SendEventT_MSGINFOCyclic(); });
    m_workers.Async([this] { m_PPort_MsgInfoSrv->SendEventems_MsgInfoCyclic(); });
    m_workers.Async([this] { m_PPort_ServiceManagement->NotifyFieldWiperRecvCyclic(); });
    m_workers.Async([this] { m_PPort_ServiceManagement->NotifyFieldWiperSendCyclic(); });
    
    m_workers.Wait();
}
 
} /// namespace aa
} /// namespace servicecreator

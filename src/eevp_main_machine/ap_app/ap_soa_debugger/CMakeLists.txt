# ============================================================================
# GENERATED BY PARA, PopcornSAR
# Copyright(c) 2024 by PopcornSAR Co.,Ltd. All rights reserved.
# ============================================================================

CMAKE_MINIMUM_REQUIRED(VERSION 3.16)
SET(CMAKE_CXX_STANDARD 14)
SET(CMAKE_CXX_STANDARD_REQUIRED ON)
SET(CMAKE_EXPORT_COMPILE_COMMANDS ON)

OPTION(BUILD_IN_DOCKER "Build in docker environment" OFF)
IF(BUILD_IN_DOCKER)
    ADD_DEFINITIONS(-DBUILD_IN_DOCKER)
ENDIF()

MESSAGE(STATUS "BUILD_IN_DOCKER : ${BUILD_IN_DOCKER}")
MESSAGE(STATUS "GEN_DIR : ${GEN_DIR}")
MESSAGE(STATUS "PARA_SDK : ${PARA_SDK}")

SET(INSTALL_DIR ${CMAKE_INSTALL_PREFIX})
SET(GEN_MACHINE_DIR "${GEN_DIR}/gen/gen_ara/implementation/EEVP_Main_Machine")
SET(PARA_INC_DIR "${PARA_SDK}/include")

MESSAGE(STATUS "INSTALL_DIR : ${INSTALL_DIR}")
MESSAGE(STATUS "PARA_INC_DIR : ${PARA_INC_DIR}")

INCLUDE(${GEN_MACHINE_DIR}/cmake/ParaSdk.cmake)

set(PARA_APP_NAME SOA_Debugger)
SET(PARA_APP_VERSION 1.0.0)
SET(PARA_APP_GEN_DIR "${GEN_MACHINE_DIR}/${PARA_APP_NAME}")
SET(PARA_APP_GEN_INCLUDE_DIR "${PARA_APP_GEN_DIR}/include")
SET(PARA_APP_TELNET_CMD_PORT 31460)

add_compile_definitions(my_target PRIVATE APP_NAME=\"${PARA_APP_NAME}\" TELNET_CMD_PORT=${PARA_APP_TELNET_CMD_PORT})

Para_App()
# ============================================================================

project(${PARA_APP_NAME}
        VERSION ${PARA_APP_VERSION}
        LANGUAGES CXX)

INCLUDE_DIRECTORIES("./include/local")
INCLUDE_DIRECTORIES("./include/local/api")
INCLUDE_DIRECTORIES("./include/local/debug")
INCLUDE_DIRECTORIES("./include/local/devices")
INCLUDE_DIRECTORIES("./include/local/manager")

INCLUDE_DIRECTORIES(${PARA_APP_GEN_INCLUDE_DIR})
INCLUDE_DIRECTORIES(${PARA_INC_DIR})

MESSAGE(STATUS "PARA_APP_GEN_INCLUDE_DIR : ${PARA_APP_GEN_INCLUDE_DIR}")

SET(SRC
    src/soa/api/PaconSetting.cpp
    src/soa/api/CommonEnumConverter.cpp
    src/soa/api/DmsDataTypeConverter.cpp
    src/soa/api/DmsProxyImpl.cpp
    src/soa/api/HvacDataTypeConverter.cpp
    src/soa/api/HvacProxyImpl.cpp
    src/soa/api/SmartFilmDataTypeConverter.cpp
    src/soa/api/SmartFilmProxyImpl.cpp
    src/soa/api/MoodLampProxyImpl.cpp
    src/soa/api/RearCurtainProxyImpl.cpp
    src/soa/api/DriverSeatProxyImpl.cpp
    src/soa/api/PowerProxyImpl.cpp
    src/soa/api/RoaProxyImpl.cpp
    src/soa/api/WiperProxyImpl.cpp
    src/soa/debug/CmdMgr.cpp
    src/soa/debug/CmdLists_SoaApi.cpp
    src/soa/debug/CmdLists_SoaApi_Dms.cpp
    src/soa/debug/CmdLists_SoaApi_Hvac.cpp
    src/soa/debug/CmdLists_SoaApi_SmartFilm.cpp
    src/soa/debug/CmdLists_Timer.cpp
    src/soa/debug/Log.cpp
    src/soa/debug/TelnetServer.cpp
    src/soa/debug/Debug_DataType2String.cpp
    src/soa/manager/SimpleTimerItem.cpp
    src/soa/manager/SimpleTimer.cpp
    src/soa/manager/Sleeper.cpp
    src/main.cpp)

ADD_EXECUTABLE(${PROJECT_NAME} ${SRC})

Para_Target(${PARA_APP_NAME}
    PARA_LIBS_PRIVATE core log exec com
    PARA_GEN_DIR ${PARA_APP_GEN_DIR}
    OUTPUT_NAME ${PARA_APP_NAME}
)
